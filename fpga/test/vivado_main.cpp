#include "../src/ban.h"
using namespace std;

int main(){


    T v0[] = {-7.83099, 9.11647, -3.35223};
    Ban b0(2, v0);
    T v1[] = {-7.83099, 4.77397, -3.35223};
    Ban b1(2, v1);
    T v2[] = {9.5223, 6.35712, 1.41603};
    Ban b2(1, v2);
    T v3[] = {-1.37232, 1.56679, -1.2979};
    Ban b3(2, v3);
    T v4[] = {-5.12932, 6.1264, -6.37552};
    Ban b4(2, v4);
    T v5[] = {2.92517, 5.26745, 4.00229};
    Ban b5(0, v5);
    T v6[] = {2.92517, -8.07724, 4.00229};
    Ban b6(0, v6);
    T v7[] = {5.25995, -1.92214, 8.90233};
    Ban b7(2, v7);
    T v8[] = {-4.57702, -2.3828, 9.02208};
    Ban b8(1, v8);
    T v9[] = {-4.57702, 3.75207, 9.02208};
    Ban b9(1, v9);
    T v10[] = {5.31606, -4.37638, 9.3081};
    Ban b10(0, v10);
    T v11[] = {5.31606, 6.39979, 1.65974};
    Ban b11(0, v11);

    Ban r0(4.23);
    Ban r1(-0.12);

    Ban b[12] = {b0, b1, b2, b3, b4, b5, b6, b7, b8, b9, b10,
                 b11};
    T v[12] = { 0.12206904275516295, 0.28799600890478416,
                0.14322700970458468, 0.9063116229386647,
                0.49329425660064974, 0.9727821857683874,
                0.4195340242501362,  0.9549555667212839,
                0.08883873678021437, 0.8672012452748497,
                0.6995445401636919,  0.1466392244069572};

    Ban r[2131];
    for(unsigned i=0; i<2131; ++i)
    	r[i] = 0;

    unsigned idx = 0;

    for(unsigned i=0; i<10; ++i){
        r[idx++] = abs(b[i]);
        r[idx++] = sqrt(b[i]);

        for(unsigned j=i+1; j<11; ++j){
            r[idx++] = b[i]+b[j];
            r[idx++] = b[i]-b[j];
            r[idx++] = b[i]*b[j];
            r[idx++] = b[i]/b[j];
            r[idx++] = b[i]==b[j];
            r[idx++] = b[i]<b[j];
            
            r[idx++] = b[i]+v[j];
            r[idx++] = b[i]-v[j];
            r[idx++] = b[i]*v[j];
            r[idx++] = b[i]/v[j];
            r[idx++] = v[j]/b[i];
            r[idx++] = b[i]==v[j];
            r[idx++] = b[i]<v[j];

            r[idx++] = b[i]+=b[j+1];
            r[idx++] = b[i]-=b[j+1];
            r[idx++] = b[i]*=b[j+1];
            r[idx++] = b[i]/=b[j+1];

            r[idx++] = b[i]+=v[j+1];
            r[idx++] = b[i]-=v[j+1];
            r[idx++] = b[i]*=v[j+1];
            r[idx++] = b[i]/=v[j+1];
        }
    }


    T v1500[] = {-5.74785e-37, -1.78091e-38, -1.9105e-38};
    Ban b1500(0, v1500);
    T v1501[] = {-5.74785e-37, 8.63334e-37, 3.03011e-38};
    Ban b1501(0, v1501);
    T v1502[] = {-1.70461e-38, -2.92053e+3, -1.34118e+8};
    Ban b1502(2, v1502);

    r[idx++] = b1500*b1501;
    r[idx++] = b1500*=b1502;

    T v1503[] = {2.94887e+38, 7.73246e+37, -2.95885e+38};
    Ban b1503(1, v1503);

    r[idx++] = 1e-3/b1503;
    r[idx++] = b1502/b1503;

    // test with corner cases in add, mul and div

    r[idx++] = b3+ZERO;
    r[idx++] = b7/=b7;
    r[idx++] = b8*=b8;
    r[idx++] = 0+b4;
    r[idx++] = b5*=0;
    r[idx++] = ZERO*b6;
    r[idx++] = ZERO/b1;

    Ban f = 0, tmp;

    for(unsigned i=0; i<2131; ++i){
    	tmp = f+r[i];
    	f = tmp;
    }

    return 0;
}
